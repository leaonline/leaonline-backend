<template name="genericGallery">
	{{#unless loadComplete}}
		{{> loading}}
	{{/unless}}

	<div class="card">
	<div class="card-body d-flex">
		<span class="no-wrap mr-auto">
			<i class="fa fa-fw fa-file"></i>
			<span>{{count}}</span>
		</span>
		{{#with actionUpload}}
			{{> upload filesCollection=uploadFilesCollection accept=this.accept class="ml-auto"}}
		{{/with}}
	</div>
	</div>

	{{#with files}}
		<hr>
		<div class="row mt-5">
			{{#each file in this}}
				<div class="col col-md-6 col-lg-3">
					<figure class="w-100 figure border border-secondary p-1 bg-white">
                    <div class="p-1 d-flex justify-content-between">
                        {{file.name}}
                        {{#if actionRemove}}
                            <a class="text-danger remove-button" href data-target="{{file._id}}">
                                <i class="fa fas fa-fw fa-times"></i>
                            </a>
                        {{/if}}
                    </div>
                        {{#with link file}}
							{{> image src=this alt=../file.name class="figure-img img-fluid rounded"}}
						<figcaption class="figure-caption p-1" style="word-break: break-all">
                            {{this}}
						</figcaption>
                        {{/with}}
					</figure>
				</div>
			{{/each}}
		</div>
	{{/with}}
</template>