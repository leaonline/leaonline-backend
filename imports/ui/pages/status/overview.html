<template name="statusOverview">
	<div class="row">
		{{#each app in apps}}
			<div class="col col-lg-6 col-xl-4">
				<div class="card">
					<div class="card-body">
						<a href="{{route 'statusApp' app.id}}">
							<h2 class="text-secondary d-flex justify-content-between">
								<span>{{app.name}}</span>
                                {{> icon fw=true name=app.icon}}
							</h2>
						</a>
						<small>
							<a href="{{app.url}}" target="_blank">
                                {{> icon fw=true name="external-link-alt"}}
								{{app.url}}
							</a>
						</small>
					</div>
					<div class="card-body d-flex justify-content-between">
						<span>{{i18n "pages.status.connection"}}</span>
						{{#if app.ddpConnect}}
							{{#with app.status}}
								{{#if this.connected}}
                                    {{> icon fw=true name="check" class="text-success"}}
								{{else}}
                                    {{> icon fw=true name="ban" class="text-danger"}}
								{{/if}}
							{{else}}
                                {{> icon fw=true pulse=true name="spinner"}}
							{{/with}}
						{{else}}
							{{>icon fw=true name="power-off"}}
						{{/if}}
					</div>
					<div class="card-body d-flex justify-content-between">
						<span>{{i18n "pages.status.loggedIn"}}</span>
						{{#if app.ddpLogin}}
							{{#with app.login}}
								{{#if this.successful}}
                                    {{> icon fw=true name="check" class="text-success"}}
								{{else}}
                                    {{> icon fw=true name="ban" class="text-danger" title=this.reason}}
								{{/if}}
							{{else}}
                                {{> icon fw=true pulse=true name="spinner"}}
							{{/with}}
						{{else}}
                            {{>icon fw=true name="power-off"}}
						{{/if}}
					</div>
				</div>
			</div>
            {{else}}
            <span>
                <i class="fa fas fa-fw fa-spinner fa-pulse"></i>
            </span>
		{{/each}}
	</div>
</template>